= V2 Endpoints

To improve the user experience and address common pitfalls in the GDS Python Client, we are introducing a new set of API endpoints under the `gds.v2` namespace. These endpoints provide a more modern, type-safe, and intuitive way to interact with the Neo4j Graph Data Science library.

The V2 Endpoints offer several key benefits:

* **Improved Autocompletion**: Better IDE support for discovering available endpoints and their sub-commands.
* **Explicit Parameters**: Functions now use named, typed parameters instead of a generic `**config: Any`, making code more readable and self-documenting.
* **Type-Safe Results**: Instead of generic pandas `DataFrame` or `Series` objects, V2 endpoints return dedicated result types, enabling better static analysis and IDE integration.
* **Pythonic Naming**: Transitioning from `camelCase` to `snake_case` for algorithm and parameter names, following Python's PEP 8 naming conventions.

In the next major release (2.0), the V2 API will become the default way to call GDS algorithms.

== Migrating to V2 Endpoints

Migrating your existing code to use V2 endpoints involves a few straightforward changes:

* **Update the Namespace**: Change the endpoint prefix from `gds` to `gds.v2`.
* **Standardize Naming**: Convert algorithm and parameter names from `camelCase` to `snake_case` (e.g., `pageRank` becomes `page_rank`, `dampingFactor` becomes `damping_factor`).
* **Leverage Typed Results**: Access result fields directly as attributes on the returned object instead of using string keys on a `Series` (e.g., `result.write_millis` instead of `result["writeMillis"]`).

[opts=header,cols="1a,1a"]
|===
| Original | V2

|
[source, python]
----
# Returns a tuple of (Graph, Series)
G, result = gds.graph.project("g", "*", "*")
----
|
[source, python]
----
# Returns a GraphV2, GraphProjectResult
G, result = gds.v2.graph.project("g", "*", "*")
----

|
[source, python]
----
result: DataFrame = gds.pageRank.stream(G, dampingFactor=0.5)
----
|
[source, python]
----
result: DataFrame = gds.v2.page_rank.stream(G, damping_factor=0.5)
----

|
[source, python]
----
result: Series = gds.wcc.mutate(G, mutateProperty="wcc")
count = result["componentCount"]
----
|
[source, python]
----
result: WccMutateResult = gds.v2.wcc.mutate(G, mutate_property="wcc")
count = result.component_count
----

|
[source, python]
----
result: Series = gds.fastRP.write(G, writeProperty="fastRP", embeddingDimension=2)
millis = result["writeMillis"]
----
|
[source, python]
----
result: FastRPWriteResult = gds.v2.fast_rp.write(G, write_property="fastRP", embedding_dimension=2)
millis = result.write_millis
----
|===